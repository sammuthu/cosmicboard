# CosmicBoard - Web Frontend

## Project Overview
CosmicBoard is a task and project management application with a cosmic-themed interface. This is the web frontend built with Next.js that connects to the CosmicBoard backend API.

## Related Projects
- **Backend API**: `/Users/sammuthu/Projects/cosmicboard-backend` - Express.js backend with PostgreSQL
- **Mobile App**: `/Users/sammuthu/Projects/cosmicboard-mobile` - React Native/Expo mobile application
- **Nginx Config**: `/Users/sammuthu/Projects/nginx-reverse-proxy` - Reverse proxy configuration

## Architecture
- **Frontend Only**: This project contains only the web frontend
- **API Communication**: All data operations go through the backend API at port 7778
- **No Direct DB Access**: No database connections or Prisma client in this project
- **Backend URL**: Configured via `NEXT_PUBLIC_BACKEND_URL` (defaults to http://localhost:7778)

## Tech Stack
- Next.js 14.x
- React 18
- TypeScript
- Tailwind CSS
- Framer Motion for animations
- TipTap editor
- React Markdown

## Key Features
- Task management with priorities (Supernova/Stellar/Nebula)
- Project organization
- Reference management
- Markdown support
- Rich text editing
- Real-time search
- Responsive design

## API Integration
All API calls use the `apiClient` utility from `/src/lib/api-client.ts`:
- Automatically routes to backend based on environment config
- Handles both local development and production environments
- Uses `NEXT_PUBLIC_USE_EXTERNAL_BACKEND` and `NEXT_PUBLIC_BACKEND_URL` env vars

## Important Files
- `/src/lib/api-client.ts` - API client for backend communication
- `/src/components/CurrentPriority.tsx` - Displays highest priority task
- `/src/app/projects/[id]/page.tsx` - Project detail view
- `.env.local` - Environment configuration

## Development
```bash
npm install
npm run dev  # Runs on port 7777
```

## Environment Variables
```env
NEXT_PUBLIC_USE_EXTERNAL_BACKEND=true
NEXT_PUBLIC_BACKEND_URL=http://localhost:7778
```

## Common Issues
1. **projectId.name undefined**: Ensure backend returns populated project objects in task responses
2. **CORS errors**: Check backend CORS configuration allows frontend origin
3. **API connection failed**: Verify backend is running on port 7778

## Ports
- Frontend: 7777
- Backend API: 7778
- Mobile Web: 8082
- PostgreSQL: 5432

## Notes
- All database models and Prisma operations are in the backend project
- This frontend should never have direct database access
- Use the apiClient for all backend communication